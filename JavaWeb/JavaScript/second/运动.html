<!DOCTYPE html>
<html>
    <head>
        <!--声明当前页面的编码集：中文编码（gbk/gb2312），国际编码（utf-8）-->
	    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
         
		<!--当前页面的三要素-->
		<title>html模板</title>
		<meta name="keywords" content="关键词,关键词,关键词">
		<meta name="description" content="">

		<!--css,js-->
		<style type="text/css">
			*{margin:0;padding:0}
			#box{
				width:500px;
				height:100px;
				background:red;
				position:absolute;
				top:0;
				left:0;
			}
		</style>

		<script>
			/*
				getElementsByClassName(); 
				getElementsByTagName();
				getElementById();
			*/
		</script>
		
    </head>

<body>
	<div id="box"></div>
	
	<script type="text/javascript">
		var oBox = document.getElementById("box");
		/*
		var a = 0;
		var timer = setInterval(function(){
			a++;
			console.log(a);
		},1);//在各个浏览器都有它的最小值，不可能是1，且最小值也可能是不准确的，chrome大概是13
		*/
		
		/*
		var a = 0;
		var timer = setInterval(function(){
			a+=5; //这个5就相当于运动的速度
			if(a >= 500)
			{
				a = 500; //不可能每次刚好加到500，就强制给500；
				clearInterval(timer);
			}
			oBox.style.left = a + "px"
		},13);
		*/
		
		/*
		//最简单版本的增大运动插件
		move(oBox,"height",5,500); //运动的方法可以传入对象，属性，速度，目标
		function move(obj, attr, speed, target){
			//var a = 0; //对象的attr属性的初始值
			var startVal = parseInt(getStyle(obj, attr));
			var timer = setInterval(function(){
				startVal += speed;
				if(startVal >= target)
				{
					startVal = target;
					clearInterval(timer);
				}
				obj.style[attr] = startVal + "px";
			},13);

			function getStyle(obj, attr){  //获取元素属性值的兼容性写法 //这个函数可以移到外面 通用
				return obj.currentStyle?obj.currentStyle[attr]:getComputedStyle("obj")[attr];
			}
		};
		*/

		
		move(oBox,"width",5,100);
		//运动的完善版本
		function move(obj, attr, speed, target){
			//var a = 0; //对象的attr属性的初始值
			var startVal = parseInt(getStyle(obj, attr));
			//var x = startVal>target;
			//speed = startVal>target?-speed:speed;
			var bool = startVal>target;
			if(bool)speed = -speed;
			var timer = setInterval(function(){
				//startVal += speed;
				//x?startVal -= speed:startVal += speed;
				startVal += speed;
				
				if(bool){
					if(startVal <=target)
					{
						startVal = target;
						clearInterval(timer);
					}
				}else{
					if(startVal >= target)
					{
						startVal = target;
						clearInterval(timer);
					}
				}
				obj.style[attr] = startVal + "px";
			},13);

			function getStyle(obj, attr){  //获取元素属性值的兼容性写法
				return obj.currentStyle?obj.currentStyle[attr]:getComputedStyle("obj")[attr];
			}
		};
	</script>
</body>
</html>
